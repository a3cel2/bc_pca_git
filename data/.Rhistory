library(ggplot2)
#df
my_x <- rnorm(10000)
my_y <- my_x + rnorm(10000,sd=0.1)
mpg <- data.frame(x=my_x,y=my_y)
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway')
g
library(ggplot2)
#df
my_x <- rnorm(10000)
my_y <- my_x + rnorm(10000,sd=0.1)
mpg <- data.frame(x=my_x,y=my_y)
g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
geom_bin2d(size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway')
g
library(ggplot2)
#df
my_x <- rnorm(10000)
my_y <- my_x + rnorm(10000,sd=0.5)
mpg <- data.frame(x=my_x,y=my_y)
g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
geom_bin2d(size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway')
g
library(ggplot2)
#df
my_x <- rnorm(10000)
my_y <- my_x + rnorm(10000,sd=0.5)
mpg <- data.frame(x=my_x,y=my_y)
g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
geom_hex(size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway')
g
library(ggplot2)
#df
my_x <- rnorm(10000)
my_y <- my_x + rnorm(10000,sd=1)
mpg <- data.frame(x=my_x,y=my_y)
g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
geom_hex(size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway')
g
library(ggplot2)
#df
my_x <- rnorm(10000)
my_y <- my_x + rnorm(10000,sd=1)
mpg <- data.frame(x=my_x,y=my_y)
g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
geom_hex(size=2) +
#geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway')
g
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
g
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_wrap(~drv)
g
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_wrap(drv~.)
g
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
g
g
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_wrap(drv ~ . )
g
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
g
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_grid(drv)
g
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
g
dev.off()
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_bw(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_grid(drv ~ .)
g
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_classic(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_grid(drv ~ .)
g
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
library(reshape2)
mpg
mtcars
head(mtcars)
library(reshape2)
melt(mtcars)
head(melt(mtcars))
library(dplyr)
mtcars %>% select(c(1,3,4,5,6,7))
dim(mt_cars)
dim(mtcars)
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
round(2)
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2)
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
ggplot2(aes(x=Var1,y=Var2,fill=Value)) +
geom_tile()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
ggplot(aes(x=Var1,y=Var2,fill=Value)) +
geom_tile()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
ggplot(aes(x=Var1,y=Var2,fill=value)) +
geom_tile()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
as.data.frame() %>%
round(2) %>%
ggplot(aes(x=Var1,y=Var2,fill=value)) +
geom_tile()
mtcars %>%
#select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
ggplot(aes(x=Var1,y=Var2,fill=value)) +
geom_tile()
mycars %>% cor()
mtcars %>% cor()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
melt() %>%
ggplot(aes(x=Var1,y=Var2,fill=value)) +
geom_tile()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
melt()
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
melt()
rbind(rnrom(10))
rbind(rnorm(10))
rbind(rep(rnorm(10),2))
?sapply
rbind(replicate(2,rnorm(10)))
replicate(2,rnorm(10))
t(replicate(2,rnorm(10)))
t(replicate(10,rnorm(10)))
library(ggplot2)
#df
g <- ggplot(data = mpg, aes(x = displ,y = hwy)) +
geom_bin2d(aes(color=drv),size=2) +
geom_smooth(method="lm",size=2,se=F) +
theme_classic(base_family = "Times") +
labs(title = "Graph",
x = "Engine",
y = 'Hway') +
facet_grid(drv ~ .)
g
library(reshape2)
library(dplyr)
mtcars %>%
select(c(1,3,4,5,6,7)) %>%
cor() %>%
round(2) %>%
melt() %>%
ggplot(aes(x=Var1,y=Var2,fill=value)) +
geom_tile() +
theme_classic()
# my_x <- rnorm(10000)
# my_y <- my_x + rnorm(10000,sd=1)
# mpg <- data.frame(x=my_x,y=my_y)
#
# g <- ggplot(data = mpg, aes(x = my_x,y = my_y)) +
#   geom_hex(size=2) +
#   #geom_smooth(method="lm",size=2,se=F) +
#   theme_bw(base_family = "Times") +
#   labs(title = "Graph",
#        x = "Engine",
#        y = 'Hway')
# g
?seq
seq(1,10,length.out=100)
faithfuld
ggplot2(faithfuld)
ggplot(faithfuld,aes(x=eruptions,y=waiting,fill=density))
ggplot(faithfuld,aes(x=eruptions,y=waiting,fill=density)) + stat_density2d()
source('~/Dropbox/Roth Lab/projects/bc_pca_git/packages/bcPcaAnalysis/R/go_enrichment_utilities.R', echo=TRUE)
convert_sgd_go_slim_data <- function(slim_file,output_file){
if(!file.exists(output_file)){
slim_file <- read.csv(slim_file, head=F, sep='\t',stringsAsFactors=F)
output_list <- list()
for(i in 1:nrow(slim_file)){
term <- slim_file[i,6]
if(is.null(output_list[[term]])){
output_list[[term]] <- list('name'='','genes'=c())
}
#print(term)
#print(output_list[[term]])
#print(output_list[[term]][['name']])
#print(output_list[[term]][['genes']])
output_list[[term]][['name']] <- slim_file[i,5]
#if(is.null(output_list[term][['genes']])){
#  prev_val <- c()
#}
#else{
#  prev_val <- output_list[term][['genes']]
#}
output_list[term][['genes']] <- c(output_list[term][['genes']],slim_file[i,1])
}
print(output_list)
stop()
output_df <- c()
for(term in names(output_list)){
name <- output_list[[term]][['name']]
genes <- paste(output_list[[term]][['genes']],collapse=' ')
output_df <- rbind(output_df,c(term,name,genes))
}
print(output_df)
}
}
convert_sgd_go_slim_data <- function(slim_file,output_file){
if(!file.exists(output_file)){
slim_file <- read.csv(slim_file, head=F, sep='\t',stringsAsFactors=F)
output_list <- list()
for(i in 1:nrow(slim_file)){
term <- slim_file[i,6]
if(is.null(output_list[[term]])){
output_list[[term]] <- list('name'='','genes'=c())
}
#print(term)
#print(output_list[[term]])
#print(output_list[[term]][['name']])
#print(output_list[[term]][['genes']])
output_list[[term]][['name']] <- slim_file[i,5]
#if(is.null(output_list[term][['genes']])){
#  prev_val <- c()
#}
#else{
#  prev_val <- output_list[term][['genes']]
#}
output_list[[term]][['genes']] <- c(output_list[[term]][['genes']],slim_file[i,1])
}
output_df <- c()
for(term in names(output_list)){
name <- output_list[[term]][['name']]
genes <- paste(output_list[[term]][['genes']],collapse=' ')
output_df <- rbind(output_df,c(term,name,genes))
}
write.table(output_df,sep='\t',row.names=F,col.names=F,quote=F,file=output_file)
}
}
getwd()
setwd('Dropbox/Roth Lab/projects/bc_pca_git/data/')
list.files()
convert_sgd_go_slim_data <- function(slim_file,output_file){
if(!file.exists(output_file)){
slim_file <- read.csv(slim_file, head=F, sep='\t',stringsAsFactors=F)
output_list <- list()
for(i in 1:nrow(slim_file)){
term <- slim_file[i,6]
if(is.null(output_list[[term]])){
output_list[[term]] <- list('name'='','genes'=c())
}
#print(term)
#print(output_list[[term]])
#print(output_list[[term]][['name']])
#print(output_list[[term]][['genes']])
output_list[[term]][['name']] <- slim_file[i,5]
#if(is.null(output_list[term][['genes']])){
#  prev_val <- c()
#}
#else{
#  prev_val <- output_list[term][['genes']]
#}
output_list[[term]][['genes']] <- c(output_list[[term]][['genes']],slim_file[i,1])
}
output_df <- c()
for(term in names(output_list)){
name <- output_list[[term]][['name']]
genes <- paste(output_list[[term]][['genes']],collapse=' ')
output_df <- rbind(output_df,c(term,name,genes))
}
write.table(output_df,sep='\t',row.names=F,col.names=F,quote=F,file=output_file)
}
}
convert_sgd_go_slim_data('go_slim_sgd_genewise.tab.txt','scratch/eyo')
convert_sgd_go_slim_data <- function(slim_file,output_file){
if(!file.exists(output_file)){
slim_file <- read.csv(slim_file, head=F, sep='\t',stringsAsFactors=F)
output_list <- list()
for(i in 1:nrow(slim_file)){
term <- slim_file[i,6]
if(is.null(output_list[[term]])){
output_list[[term]] <- list('name'='','genes'=c())
}
#print(term)
#print(output_list[[term]])
#print(output_list[[term]][['name']])
#print(output_list[[term]][['genes']])
output_list[[term]][['name']] <- slim_file[i,5]
#if(is.null(output_list[term][['genes']])){
#  prev_val <- c()
#}
#else{
#  prev_val <- output_list[term][['genes']]
#}
output_list[[term]][['genes']] <- c(output_list[[term]][['genes']],slim_file[i,1])
}
output_df <- c()
go_names <- names(output_list)
go_names <- go_names[sapply(go_names,nchar) > 3]
for(term in ){
name <- output_list[[term]][['name']]
genes <- paste(output_list[[term]][['genes']],collapse=' ')
output_df <- rbind(output_df,c(term,name,genes))
}
write.table(output_df,sep='\t',row.names=F,col.names=F,quote=F,file=output_file)
}
}
convert_sgd_go_slim_data <- function(slim_file,output_file){
if(!file.exists(output_file)){
slim_file <- read.csv(slim_file, head=F, sep='\t',stringsAsFactors=F)
output_list <- list()
for(i in 1:nrow(slim_file)){
term <- slim_file[i,6]
if(is.null(output_list[[term]])){
output_list[[term]] <- list('name'='','genes'=c())
}
#print(term)
#print(output_list[[term]])
#print(output_list[[term]][['name']])
#print(output_list[[term]][['genes']])
output_list[[term]][['name']] <- slim_file[i,5]
#if(is.null(output_list[term][['genes']])){
#  prev_val <- c()
#}
#else{
#  prev_val <- output_list[term][['genes']]
#}
output_list[[term]][['genes']] <- c(output_list[[term]][['genes']],slim_file[i,1])
}
output_df <- c()
go_names <- names(output_list)
go_names <- go_names[sapply(go_names,nchar) > 3]
for(term in go_names){
name <- output_list[[term]][['name']]
genes <- paste(output_list[[term]][['genes']],collapse=' ')
output_df <- rbind(output_df,c(term,name,genes))
}
write.table(output_df,sep='\t',row.names=F,col.names=F,quote=F,file=output_file)
}
}
convert_sgd_go_slim_data('go_slim_sgd_genewise.tab.txt','scratch/eyo')
convert_sgd_go_slim_data('go_slim_sgd_genewise.tab.txt','scratch/eyo')
